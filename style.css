:root{
    --bg-concrete:#F2F2F0;
    --ink-graphite:#111;
    --ink-dim:#555;
    --ink-ghost:rgba(21,21,21,.15);
    --accent-acid:#A9C955;
    --accent-acid-ghost:rgba(169,201,85,.35);
    --font-head:'Space Grotesk',sans-serif;
    --font-body:'IBM Plex Serif',serif;
    --font-tech:'JetBrains Mono',monospace;
    --type-display-xl:clamp(6.5rem,18vw,16rem);
    --type-display-lg:clamp(3rem,8vw,7rem);
    --type-display-md:clamp(2.5rem,5vw,4.5rem);
    --type-body-xl:clamp(2rem,4vw,3rem);
    --type-body-lead:clamp(1.1rem,1.5vw,1.35rem);
    --type-body-base:clamp(.9rem,1.1vw,1rem);
    --type-mono-sm:.85rem;
    --type-mono-xs:.7rem;
    --section-pad-x:clamp(30px,6vw,100px);
    --grid-gap:clamp(4rem,6vw,8rem);
    --ease-out-expo:cubic-bezier(.16,1,.3,1);
}

body.dark-mode{
    --bg-concrete:#111;
    --ink-graphite:#E0E0E0;
    --ink-dim:#888;
    --ink-ghost:rgba(224,224,224,.2);
}

*{box-sizing:border-box;margin:0;padding:0;}
html{scroll-behavior:smooth;}
::selection{background:var(--accent-acid);color:var(--ink-graphite);}
body{
    background:var(--bg-concrete);
    color:var(--ink-graphite);
    font-family:var(--font-body);
    transition:.6s ease;
    overflow-x:hidden;
    width:100%;
    font-size:16px;
    line-height:1.5;
}

/* ANIMATIONS */
@keyframes fadeUp{
    0%{opacity:0;transform:translateY(40px);filter:blur(5px);}
    100%{opacity:1;transform:translateY(0);filter:blur(0);}
}
.reveal-node{opacity:0;}
.is-visible{animation:fadeUp 1s var(--ease-out-expo) forwards;}
.delay-1{animation-delay:.1s;}
.delay-2{animation-delay:.2s;}
.delay-3{animation-delay:.35s;}
.highlight-word{color:var(--accent-acid)!important;transition:color .1s;}
.section-headline .stagger-word{display:inline-block;}

/* SECTIONS */
.std-section, #hero, #manifest, .mega-footer {
      min-height:100svh;
      width:100%;
      display:flex;
      flex-direction:column;
      justify-content:center;
      padding:140px var(--section-pad-x);
      gap:var(--layout-gap); /* REFINED GAP */
      position:relative;
    }

/* HEADERS & TYPOGRAPHY */
.header-wrapper{display:flex;flex-direction:column;align-items:flex-start;margin-bottom:8rem;width:100%;}
.grotesk{font-family:var(--font-head);font-weight:700;text-transform:uppercase;font-size:var(--type-display-xl);line-height:.95;letter-spacing:-.06em;margin-bottom:3rem;color:var(--ink-graphite);display:block;width:100%;}
.section-headline{font-family:var(--font-head);font-weight:700;font-size:var(--type-display-lg);line-height:.95;letter-spacing:-.05em;text-transform:uppercase;color:var(--ink-graphite);}
.section-desc{font-family:var(--font-body);font-size:var(--type-body-xl);line-height:1.35;color:var(--ink-dim);max-width:700px;margin-top:20px;text-align:left;}
.accent-text{color:var(--accent-acid);}
.mono{font-family:var(--font-tech);font-size:var(--type-mono-sm);letter-spacing:.15em;text-transform:uppercase;}
.label-ghost{font-family:var(--font-head);font-weight:700;font-size:var(--type-display-lg);line-height:.85;letter-spacing:-.05em;text-transform:uppercase;color:var(--ink-graphite);opacity:.05;transition:.6s ease-out;margin-bottom:2rem;display:block;}
.label-ghost.is-solid{opacity:1;}
.serif{font-family:var(--font-body);font-size:var(--type-body-xl);line-height:1.35;max-width:700px;color:var(--ink-graphite);}

/* HEADER */
header{position:fixed;top:0;left:0;height:90px;width:100%;display:flex;justify-content:space-between;align-items:center;padding:0 var(--section-pad-x);z-index:1000;background:transparent;}
.header-blur-layer{position:absolute;top:0;left:0;width:100%;height:100%;z-index:-1;backdrop-filter:blur(6px);}
header:after{content:'';position:absolute;top:0;left:0;width:100%;height:100%;background:var(--bg-concrete);opacity:.85;z-index:-1;mask-image:linear-gradient(to bottom,#000 50%,transparent);}

/* BUTTONS & CTA */
button.theme-toggle{display:none;background:none;border:none;color:var(--ink-graphite);padding:8px 0;cursor:pointer;font-family:var(--font-tech);text-transform:uppercase;font-size:10px;letter-spacing:.1em;transition:.3s ease;}
button.theme-toggle:hover,button.theme-toggle:focus-visible{color:var(--accent-acid);}
.cta-btn{display:inline-block;margin-top:4rem;text-decoration:none;color:var(--ink-graphite);font-weight:700;font-family:var(--font-tech);text-transform:uppercase;transition:.3s ease;font-size:14px;letter-spacing:.1em;position:relative;}
.cta-btn:after{content:'';position:absolute;bottom:-5px;left:0;width:100%;height:2px;background:var(--accent-acid);transform:scaleX(0);transform-origin:left;transition:.3s var(--ease-out-expo);}
.cta-btn:hover,.cta-btn:focus-visible{color:var(--accent-acid);}
.cta-btn:hover:after,.cta-btn:focus-visible:after{transform:scaleX(1);}
.cta-btn:hover{transform:scale(1.03);}

/* GRID */
.grid-container{display:grid;grid-template-columns:repeat(3,1fr);gap:var(--grid-gap);width:100%;}
.grid-item{display:flex;flex-direction:column;gap:1rem;padding-top:0;cursor:pointer;position:relative;text-align:left;align-items:flex-start;transition:opacity .4s, transform .3s, box-shadow .3s;}
.grid-container:hover .grid-item{opacity:.3;}
.grid-container:hover .grid-item:hover{opacity:1;}
.grid-title{font-family:var(--font-head);font-weight:700;font-size:var(--type-display-md);letter-spacing:-.04em;text-transform:uppercase;color:var(--ink-graphite);line-height:.95;margin-top:1rem;}
.grid-item.active .grid-title,.grid-item:hover .grid-title{color:var(--accent-acid);}
.grid-body{font-size:var(--type-body-base);line-height:1.6;color:var(--ink-dim);}
.index-marker{font-family:var(--font-tech);color:var(--ink-graphite);opacity:.5;font-weight:700;font-size:2rem;letter-spacing:.1em;margin-bottom:2.5rem;transition:.3s;}
.grid-item:hover .index-marker{color:var(--accent-acid);opacity:1;}

/* ACCORDION */
#manifest{min-height:100svh;max-height:calc(100svh + 3 * 300px + 3 * 60px);display:flex;flex-direction:column;justify-content:flex-start;padding:120px var(--section-pad-x);margin-bottom:80px;overflow:hidden;}
.accordion-stack{width:100%;display:flex;flex-direction:column;gap:2.5rem;}
.acc-item{padding:3vh 0;cursor:pointer;position:relative;transition:.5s,color .3s;border-bottom:0.5px solid var(--ink-ghost);}
.acc-item:last-child{border-bottom:none;}
.acc-item:hover .acc-title,.acc-item.active .acc-title{color:var(--ink-dim);opacity:1;}
.acc-item:hover .acc-meta,.acc-item.active .acc-meta{color:var(--accent-acid-ghost);}
.acc-item.active{padding:4vh 0;background:none;border-radius:none;}
.acc-header{display:flex;gap:3rem;}
.acc-title{font-family:var(--font-head);font-size:var(--type-display-lg);line-height:.95;letter-spacing:-.05em;text-transform:uppercase;color:var(--ink-graphite);opacity:.2;transition:.4s;}
.acc-meta{font-family:var(--font-tech);font-size:var(--type-mono-xs);letter-spacing:.1em;color:var(--ink-dim);opacity:0;transform:translateY(10px);transition:.4s;}
.acc-item.active .acc-meta{opacity:1;transform:translateY(0);}
.acc-body{max-height:0;overflow:hidden;opacity:0;transition:max-height .6s var(--ease-out-expo),opacity .6s,margin-top .6s var(--ease-out-expo);margin-top:0;width:100%;}
.acc-item.active .acc-body{max-height:300px;opacity:1;margin-top:50px;}
.acc-content-wrapper{display:grid;grid-template-columns:2fr 1fr;gap:80px;align-items:start;padding-left:var(--section-pad-x);padding-right:var(--section-pad-x);}
.acc-narrative{display:flex;flex-direction:column;gap:15px;text-align:left;}
.acc-desc{font-family:var(--font-body);font-size:var(--type-body-lead);line-height:1.4;color:var(--ink-graphite);max-width:800px;}
.acc-data-grid{display:grid;gap:12px;border-left:1px solid var(--ink-ghost);padding-left:20px;}
.data-row{display:flex;justify-content:space-between;font-family:var(--font-tech);font-size:.75rem;letter-spacing:.05em;border-bottom:1px solid rgba(0,0,0,.05);padding-bottom:4px;}
.data-key{color:var(--ink-dim);text-transform:uppercase;}
.data-val{color:var(--ink-graphite);font-weight:700;text-align:right;}
.acc-progress {
  position:absolute;
  top:0;
  left:-50px; /* move if needed */
  width:4px;
  height:100%;
  background:var(--accent-acid-ghost);
  overflow:hidden;
}

.acc-progress-fill {
  position: absolute;
  top: 0;       /* start at top */
  left: 0;
  width: 100%;
  height: 0;
  background: var(--accent-acid);
  border-radius: 3px;
  transition: height 0.1s linear;
}

/* METHODS / SECTION 3 */
#method{padding:140px var(--section-pad-x);gap:60px;}
.method-layout{display:flex;flex-direction:column;gap:60px;width:100%;}
.method-thesis{font-family:var(--font-body);font-size:var(--type-body-xl);line-height:1.5;color:var(--ink-graphite);max-width:900px;text-align:left;letter-spacing:-.02em;}
.method-thesis .replaceable{color:var(--accent-acid);font-weight:600;}
.method-layout .grid-container{gap:var(--grid-gap);}
.replaceable {
    color: var(--accent-acid);
    font-weight: 600;
    display: inline-block;
    transition: opacity 0.3s ease, transform 0.3s ease;
}

/* FOOTER */
.mega-footer{display:flex;flex-direction:column;padding:100px var(--section-pad-x);gap:60px;}
.footer-cta-block{display:flex;flex-direction:column;justify-content:flex-start;align-items:flex-start;padding-bottom:80px;}
.footer-bottom{display:grid;grid-template-columns:1fr auto;align-items:center;gap:40px;border-top:1px solid var(--ink-ghost);padding-top:40px;width:100%;}
.footer-col{display:flex;flex-direction:row;align-items:center;gap:20px;}
.footer-bottom .footer-col:last-child{justify-content:flex-end;}
.footer-col a.footer-link{margin-left:15px;font-size:1.2rem;color:var(--ink-dim);transition:color .3s;text-decoration:none;}
.footer-col a.footer-link:hover,.footer-col a.footer-link:focus-visible{color:var(--accent-acid);}

/* CTA HEADLINE */
.cta-headline{font-family:var(--font-head);font-weight:700;text-transform:uppercase;font-size:var(--type-display-xl);line-height:.95;margin-bottom:2rem;letter-spacing:-.07em;color:var(--ink-graphite);text-align:left;}

/* MEDIA QUERIES */
@media(max-width:900px){
    .std-section{padding:100px 20px;justify-content:flex-start;}
    #manifest{min-height:120svh;max-height:calc(120svh + 3 * 300px + 3 * 60px);padding-left:20px;padding-right:20px;}
    #method{padding:100px 20px;}
    .method-layout{gap:40px;}
    .acc-content-wrapper{grid-template-columns:1fr;gap:30px;padding-left:20px;padding-right:20px;}
    .acc-title{font-size:3rem;}
    .footer-bottom{grid-template-columns:1fr;gap:30px;}
    .footer-col:first-child{flex-wrap:wrap;justify-content:flex-start;}
    .footer-bottom .footer-col:last-child{justify-content:flex-start;flex-wrap:wrap;}
    .grotesk,.cta-headline{word-break:break-word;}
    .acc-progress{left:-10px;width:3px;}
    .acc-data-grid{border-left:none;padding-left:0;margin-top:20px;border-top:1px solid var(--ink-ghost);padding-top:20px;}
}
